#! /bin/bash
# -*- mode: sh -*-

TEXTDOMAIN=@GETTEXT_PACKAGE@
TEXTDOMAINDIR=@prefix@/share/locale

res=$(mktemp --tmpdir=/tmp/ydesk shot.XXXXXXXX)
trap "rm -f $res" EXIT

eval act=$(gsettings get ydesk.applets shot_act)
[[ $act == root ]] && ACTS="^root!reg" || ACTS="root!^reg"

yad --title=$"Screenshot applet" --window-icon="application-x-addon" \
    --width=300 --image=applets-screenshooter \
    --text=$"Screenshot applet configuration" --separator=" " --form \
    --field=$"Default action::CB" "$(gsettings get ydesk.applets tb_sz)" > $res

if [[ $? -eq 0 ]]; then
    eval r=($(< $res))

    gsettings set ydesk.applets shot_act ${r[0]}
fi
