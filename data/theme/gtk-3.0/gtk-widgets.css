/* 
# name: Y
# author: Victor Ananjevsky <victor@sanana.kiev.ua>
# description: based on Darkilouche by Maxime Doyen
*/

* {
    padding: 0;
    -GtkToolButton-icon-spacing: 2;
    -GtkTextView-error-underline-color: #cc0000;
    -GtkScrolledWindow-scrollbar-spacing: 0;
    -GtkToolItemGroup-expander-size: 11;
    -GtkWidget-text-handle-width: 20;
    -GtkWidget-text-handle-height: 24;
    -GtkButton-always-show-image: 1;
    -GtkDialog-button-spacing: 4;
    -GtkDialog-action-area-border: 0;
    -GtkDialog-use-header-bar: 0;
    outline-color: alpha(@fg_color, 0.4);
    outline-style: dashed;
    outline-offset: -4px;
    outline-width: 0px;
    -gtk-outline-radius: 2px;
    -gtk-icon-style: regular;
}

/***************
 * Base States *
 ***************/
.background {
    color: @fg_color;
    background-color: @bg_color;
}

/*
   These wildcard seems unavoidable, need to investigate.
   Wildcards are bad and troublesome, use them with care,
   or better, just don't.
   Everytime a wildcard is used a kitten dies, painfully.
*/
*:disabled {
    -gtk-icon-effect: dim;
}

.gtkstyle-fallback {
    background-color: @bg_color;
    color: @fg_color;
}

.gtkstyle-fallback:hover {
    background-color: shade (@bg_color, 1.2);
    color: @fg_color;
}

.gtkstyle-fallback:active {
    background-color: @bg_color;
    color: @fg_color;
}

.gtkstyle-fallback:disabled {
    background-color: shade (@bg_color, 0.8);
    color: @fg_color;
}

.gtkstyle-fallback:selected {
    background-color: @selected_bg_color;
    color:  @selected_fg_color;
}

.monospace { 
    font-family: monospace; 
}

.context-menu {
    font: initial; 
}

printdialog .vertical {
    color: @fg_color;
    background-color: @bg_color;
}

.view,
iconview,
.view text,
iconview text,
textview text {
    color: @text_color;
    background-color: @base_color;
}

.rubberband,
rubberband,
flowbox rubberband,
treeview.view rubberband,
.content-view rubberband {
    border: 1px solid @borders;
    background-color: rgba(0.1, 0.1, 0.4, 0.3);
}

label {
    color: @fg_color;
}

label:disabled {
    color: darker (@bg_color);
    text-shadow: 1px 1px shade(@shadow_color, 0.91);
    border-color: darker (@bg_color);
}

assistant .sidebar {
    background-color: shade(@bg_color, 0.87);
}

assistant .sidebar label {
    padding: 6px 12px;
}

assistant .sidebar label.highlight {
    color: @selected_fg_color;
    background-color: @selected_bg_color;
}

/*********************
 * Spinner Animation *
 *********************/
@keyframes spin {
    to {
        -gtk-icon-transform: rotate(1turn);
    }
}

spinner {
    background: none;
    opacity: 0;
    -gtk-icon-source: -gtk-icontheme("process-working");
}

spinner:checked {
    opacity: 1;
    animation: spin 1s linear infinite;
}

spinner:checked:disabled {
    opacity: 0.5;
}

/****************
 * Text Entries *
 ****************/
entry {
	border: 1px solid @borders;
	background-color: @base_color;
	color: @text_color;
	border-radius: 3px;
	padding: 2px;
    box-shadow: inset 1px 0 shade(@shadow_color,0.93), inset 0 1px shade(@shadow_color,0.93);
}

entry:focus  {
	border: 1px solid shade(@bg_color, 0.7);
    box-shadow: inset 1px 0 @border_focus_color,
    inset 0 1px @border_focus_color,
    inset -1px 0 @border_focus_color,
    inset 0 -1px @border_focus_color;
}

entry:selected {
    background-color: shade (@bg_color, 0.9);
}

entry:selected:focus {
    background-color: @selected_bg_color;
    color: @selected_fg_color;
}

entry:disabled {
	background-color: darker (@base_color);
	color: darker (@text_color);
	box-shadow: none;
}

entry image.left {
    padding-right: 4px;
}                                                                                                                            

entry image.right {
    padding-left: 4px;
}

* {
	caret-color: @text_color;
}

/***********
 * Buttons *
 ***********/
switch slider,
button {
    transition: all 200ms ease-out;
    padding: 3px 4px;
    min-width: 19px;
    min-height: 19px;
    border: 1px solid @borders;
    border-radius: 3px;
    background-image: -gtk-gradient(linear, left top, left bottom,
                                    from (shade(@bg_color,1.09)),
                                    to (shade(@bg_color, 0.98)));
    box-shadow: inset 1px 0 shade(@shadow_color,0.92),
                inset 0 1px shade(@shadow_color,0.92),
                inset -1px 0 shade(@shadow_color,0.70),
                inset 0 -1px shade(@shadow_color,0.70);
}

button:hover,
button.flat:hover {
    background-image: -gtk-gradient(linear, left top, left bottom,
                                    from (shade(@bg_color,1.15)),
                                    to (shade(@bg_color, 1.04)));
}

button:active,
button.flat:active,
button:checked,
button.flat:checked {
	border: 1px solid @borders;
    background-image: -gtk-gradient(linear, left top, left bottom,
                                    from (shade(@bg_color,1.6)),
                                    to (shade(@bg_color, 1.4)));
    box-shadow: inset 1px 0 2px #6d6e6b,
                inset 0 1px 2px #6d6e6b;
}

button:disabled {
	background-image: none;
    color: darker(@bg_color);
	text-shadow: 1px 1px shade(@shadow_color, 0.91);
	border-color: darker(@bg_color);
    box-shadow: inset 1px 0 shade(@shadow_color, 0.91),
                inset 0 1px shade(@shadow_color, 0.91);
}

.inline-toolbar toolbutton > button {
    border-width: 1px;
    border-style: solid;
    color: @fg_color;
    background-image: linear-gradient(to bottom, @gradient_normal_s, @gradient_normal_e);
    border-color: @borders;
}

.inline-toolbar toolbutton > button:hover {
    border-width: 1px;
    border-style: solid;
    color: @fg_color;
    border-color: @borders;
    background-image: linear-gradient(to bottom, @gradient_hover_s, @gradient_hover_e);
}

.inline-toolbar toolbutton > button:active {
    border-width: 1px;
    border-style: solid;
    border-color: @border_active;
    background-image: linear-gradient(to bottom, @gradient_active_s, @gradient_active_e);
    color:  @fg_color;
}

.inline-toolbar toolbutton > button:disabled {
    -gtk-icon-shadow: none;
    border-width: 1px;
    border-style: solid;
    color: @insensitive_fg_color;
    border-color: @insensitive_borders;
    background-color: @insensitive_bg_color;
    background-image: none;
    text-shadow: none;
}

.inline-toolbar toolbutton > button:disabled:active {
    border-width: 1px;
    border-style: solid;
    color: @insensitive_fg_color;
    border-color: @insensitive_borders;
    background-color: @insensitive_bg_color;
    background-image: none;
}

.inline-toolbar.toolbar toolbutton > button.flat {
    border-radius: 0;
    border-left-style: none;
}

.inline-toolbar.toolbar toolbutton:first-child > button.flat {
    border-radius: 0;
    border-left-style: solid;
}

.inline-toolbar.toolbar toolbutton:last-child > button.flat {
    border-radius: 0;
}

.inline-toolbar.toolbar toolbutton:last-child:dir(rtl) > button.flat {
    border-right-style: solid;
}

.inline-toolbar.toolbar toolbutton:only-child > button.flat {
    border-radius: 0;
    border-style: solid;
}

toolbar toolbutton button:hover {
    border: solid 1px @borders;
}

osd button,
osd button:hover,
osd button:active,
osd button:checked,
osd button:disabled,
inline-toolbar button,
.linked button,
.linked > combobox > box > button:dir(ltr) {
    border-radius: 0;
    border-left-style: none;
}

osd button:dir(rtl),
inline-toolbar button:dir(rtl),
.linked button:dir(rtl),
.linked > combobox > box > button:dir(rtl) {
    border-right-style: none;
    border-left-style: solid;
}

osd button:first-child,
inline-toolbar button:first-child,
.linked button:first-child,
.linked > combobox:first-child > box > button {
    border-radius: 3px 0 0 3px;
    border-left-style: solid;
}

osd button:last-child,
inline-toolbar button:last-child,
.linked button:last-child,
.linked > combobox:last-child > box > button {
    border-radius: 0 3px 3px 0;
}

osd button:last-child:dir(rtl),
inline-toolbar button:last-child:dir(rtl),
.linked button:last-child:dir(rtl),
.linked > combobox:last-child > box > button:dir(rtl) {
    border-color: red;
    border-right-style: solid;
}

osd button:only-child,
inline-toolbar button:only-child,
.linked button:only-child,
.linked > combobox:only-child > box > button {
    border-radius: 3px;
    border-style: solid;
}

button.flat,
menuitembutton.flat,
button:link,
button:visited,
button:link:hover,
button:link:active,
button:visited:hover,
button:visited:active,
notebook tab button,
.list-rowbutton, GtkCalendarbutton, GtkCalendarbutton:hover {
    border-color: transparent;
    background-color: transparent;
    background-image: none;
    box-shadow: inset 0 1px rgba(255, 255, 255, 0);
    text-shadow: none;
    -gtk-icon-shadow: none;
}

.stack-switcher > button > label {
    padding-left: 9px;
    padding-right: 9px;
}

/* menu buttons */
modelbutton.flat,
popover.background checkbutton,
popover.background radiobutton,
.menuitem.button.flat {
    padding: 2px;
    outline-offset: -1px;
}

modelbutton.flat:hover,
popover.background checkbutton:hover,
popover.background radiobutton:hover,
.menuitem.button.flat:hover {
    color: @selected_fg_color;
    background-color: @selected_bg_color;
}

modelbutton.flat check:last-child,
popover.background checkbutton check:last-child,
popover.background radiobutton check:last-child,
modelbutton.flat radio:last-child,
popover.background checkbutton radio:last-child,
popover.background radiobutton radio:last-child,
.menuitem.button.flat check:last-child,
.menuitem.button.flat radio:last-child {
    margin-left: 4px;
}

modelbutton.flat check:first-child,
popover.background checkbutton check:first-child,
popover.background radiobutton check:first-child,
modelbutton.flat radio:first-child,
popover.background checkbutton radio:first-child,
popover.background radiobutton radio:first-child,
.menuitem.button.flat check:first-child,
.menuitem.button.flat radio:first-child {
    margin-right: 4px;
}

modelbutton.flat arrow,
popover.background checkbutton arrow,
popover.background radiobutton arrow {
    background: none;
}

modelbutton.flat arrow:hover,
popover.background checkbutton arrow:hover,
popover.background radiobutton arrow:hover {
    background: none;
}

modelbutton.flat arrow.left,
popover.background checkbutton arrow.left,
popover.background radiobutton arrow.left {
    -gtk-icon-source: -gtk-icontheme("pan-start-symbolic");
}

modelbutton.flat arrow.right,
popover.background checkbutton arrow.right,
popover.background radiobutton arrow.right {
    -gtk-icon-source: -gtk-icontheme("pan-end-symbolic");
}

button.color {
    padding: 2px;
}

/*********
 * Links *
 *********/
*:link {
    color: @link_color;
}

*:link:hover,
*:link:active,
*:link:visited {
    color: @visited_link_color;
}

button:link,
button:visited {
    color: @link_color;
    font-weight: bold;
    text-shadow: none;
}

button:link:hover,
button:link:active,
button:visited:hover,
button:visited:active {
    color: @visited_link_color;
    text-shadow: none;
}

/*****************
 * GtkSpinButton *
 *****************/
spinbutton {
    color: @text_color;
}

spinbutton button {
    padding: 2px 4px;
    color: shade(@selected_fg_color, 0.8);
}

spinbutton button:disabled {
    color: darker(@bg_color);
}

spinbutton button:active,
spinbutton button:hover {
    color: @fg_color;
}

spinbutton button:first-child {
    border-radius: 0px;
}

spinbutton button:last-child {
    border-radius: 0px 3px 3px 0px;
}

spinbutton.vertical button {
    border-width: 1px;
    border-style: solid;
    border-color: shade(@bg_color, 0.8);
    border-radius: 2px;
    color: @fg_color;
    background-color: shade(@bg_color, 1.08);
    background-image: none;
}

spinbutton.vertical button:hover {
    border-color: shade(@bg_color, 0.7);
    background-color: shade(@bg_color, 1.10);
    background-image: none;
}

spinbutton.vertical button:active {
    border-color: shade(@bg_color, 0.8);
    background-color: shade(@bg_color, 0.95);
    background-image: none;
}

spinbutton.vertical button:active:hover {
    border-color: shade(@bg_color, 0.7);
}

spinbutton.vertical button:focus,
spinbutton.vertical button:hover:focus,
spinbutton.vertical button:active:focus,
spinbutton.vertical button:active:hover:focus {
    border-color: shade(@bg_color, 0.7);
}

spinbutton.vertical button:disabled {
    border-color: shade(@bg_color, 0.85);
    background-color: shade(@bg_color, 0.9);
    background-image: none;
}

spinbutton.vertical button:first-child {
    border-width: 1px;
    border-bottom-width: 0;
    border-radius: 2px;
    border-bottom-right-radius: 0;
    border-bottom-left-radius: 0;
}

spinbutton.vertical button:last-child {
    border-width: 1px;
    border-top-width: 0;
    border-radius: 2px;
    border-top-left-radius: 0;
    border-top-right-radius: 0;
}

spinbutton.vertical entry {
    border-width: 1px;
    border-style: solid;
    border-radius: 0;
}

/**************
 * ComboBoxes *
 **************/
combobox {
    padding: 0;
}

combobox arrow {
    -gtk-icon-source: -gtk-icontheme("pan-down-symbolic");
    margin: 1px;
    min-height: 14px;
    min-width: 14px;
}

combobox:drop(active) {
    box-shadow: none;
}

combobox *:disabled {
	color: darker (@bg_color);
}

combobox entry {
	border-top-right-radius: 0;
	border-bottom-right-radius: 0;
	border-right: 0;
}

combobox button {
	border-top-left-radius: 0;
	border-bottom-left-radius: 0;
}

/************
 * Toolbars *
 ************/
toolbar,
searchbar {
	padding: 2px;
	border-bottom: 1px solid shade(@bg_color, 0.82);
}

/***************
 * Header bars *
 ***************/
.titlebar,
headerbar {
    background-color: @bg_color;
    padding: 2px;
}

.titlebar .title,
headerbar .title {
    font-weight: bold;
    padding: 0px 12px;
}

.titlebar .subtitle,
headerbar .subtitle {
    font-size: 80%;
    padding: 0px 10px;
}

.titlebar headerbar-separator,
.titlebar > GtkBox > .separator.vertical,
headerbar headerbar-separator,
headerbar > GtkBox > .separator.vertical {
    border-width: 0px 1px;
    border-image: linear-gradient(to bottom, rgba(127, 127, 127, 0), #7f7f7f 30%, #7f7f7f 70%, rgba(127, 127, 127, 0) 100%) 0 1/0 1px stretch;
}

.titlebar.selection-mode,
headerbar.selection-mode {
    color: @fg_color;
    text-shadow: 0px 1px rgba(0, 0, 0, 0.5);
    background-image: linear-gradient(to bottom, #0d0d0d, #050505);
    box-shadow: inset 0px -1px #d8d8d8, inset 0px 1px #7f7f7f;
}

.titlebar.selection-mode button,
headerbar.selection-mode button {
    border-width: 1px;
    border-style: solid;
    color:  @fg_color;
    background-image: linear-gradient(to bottom, #0d0d0d, @fg_color 40%, @fg_color);
    border-color: @fg_color;
}

.titlebar.selection-mode button:hover,
headerbar.selection-mode button:hover {
    border-width: 1px;
    border-style: solid;
    color:  @fg_color;
    border-color: @fg_color;
    background-image: linear-gradient(to bottom, #242424, #0a0a0a 40%, @fg_color);
}

.titlebar.selection-mode button:active,
headerbar.selection-mode button:active {
    border-width: 1px;
    border-style: solid;
    border-color: @fg_color;
    background-image: linear-gradient(to bottom, @fg_color, shade (@fg_color, 0.8));
    color:  @fg_color;
}

.titlebar.selection-mode button:disabled,
headerbar.selection-mode button:disabled {
    border-width: 1px;
    border-style: solid;
    color: #7f7f7f;
    border-color: @borders;
    background-image: linear-gradient(to bottom, @fg_color, shade (@fg_color, 0.8));
    text-shadow: none;
    -gtk-icon-shadow: none;
}

.titlebar.selection-mode button.suggested-action,
headerbar.selection-mode button.suggested-action {
    border-width: 1px;
    border-style: solid;
    color: @fg_color;
    background-image: linear-gradient(to bottom, @fg_color, @fg_color 40%, #f2f2f2);
    border-color: @borders;
}

.titlebar.selection-mode button.suggested-action:hover,
headerbar.selection-mode button.suggested-action:hover {
    border-width: 1px;
    border-style: solid;
    color: @fg_color;
    border-color: @borders;
    background-image: linear-gradient(to bottom, @fg_color, @fg_color 40%, @fg_color);
}

.titlebar.selection-mode button.suggested-action:active,
headerbar.selection-mode button.suggested-action:active {
    border-width: 1px;
    border-style: solid;
    border-color: @borders;
    background-image: linear-gradient(to bottom, #7f7f7f, #4f4f4f, #7f7f7f);
    color:  @fg_color;
}

.titlebar.selection-mode button.suggested-action:disabled,
headerbar.selection-mode button.suggested-action:disabled {
    border-width: 1px;
    border-style: solid;
    color: #7f7f7f;
    border-color: @borders;
    background-image: linear-gradient(to bottom, @fg_color, shade (@fg_color, 0.8));
    text-shadow: none;
    -gtk-icon-shadow: none;
}

.titlebar.selection-mode .selection-menu,
headerbar.selection-mode .selection-menu {
    border-width: 0;
    background-image: none;
    box-shadow: none;
}

.tiled .titlebar, .maximized .titlebar,
.tiled headerbar, .maximized headerbar {
    border-radius: 0;
}

/************
 * Pathbars *
 ************/
.path-bar button {
    padding: 2px 3px 3px;
}

.path-bar button:first-child {
    padding-left: 6px;
}

.path-bar button:last-child {
    padding-right: 6px;
}

.path-bar button:only-child {
    padding-left: 10px;
    padding-right: 10px;
}

.path-bar button label:last-child {
    padding-left: 1px;
}

.path-bar button label:first-child {
    padding-right: 1px;
}

.path-bar button label:only-child {
    padding-right: 0;
    padding-left: 0;
}

.path-bar button image {
    padding-top: 1px;
}

/**************
 * Tree Views *
 **************/

treeview.view header button,
treeview.view header button:active {
    border-radius: 0;
    background-image: linear-gradient(to bottom, shade(@bg_color, 1.15), shade(@bg_color, 1.02));
	/*background-image: none;*/
	color: @fg_color;
    background-color: @bg_color;
	border-width: 0;
	padding: 0 4px;
}

column-header button:hover,
column-header button:active:hover,
column-header button:hover:focus,
column-header button:active:hover:focus {
    background-image: none;
    background-color: shade(@bg_color, 0.9);
}

column-header:last-child button {
    border-right: none;
}

GtkScrolledWindow.frame {
	border: 1px solid shade(@bg_color, 0.85);
	border-radius: 0;
}

GtkTreeView.dnd {
    border-color: shade(@selected_bg_color, 1.12);
    border-radius: 2px;
    border-width: 1px;
    border-style: solid;
}

GtkTreeView row {
    background-color: @base_color;
}

GtkTreeView row:nth-child(even) {
    background-color: shade(@base_color, 0.6);
}

GtkTreeView entry {
    background-image: none;
    border-radius: 0;
}

/*********
 * Menus *
 *********/
menubar,
.menubar {
    background-image: linear-gradient(to bottom,
                                      shade (@bg_color, 0.8),
                                      shade (@bg_color, 0.6));
    padding: 2px;
}

menubar > menuitem,
.menubar > menuitem {
    padding: 2px 5px;
    border: 1px solid transparent;
}

menubar > menuitem:hover,
.menubar > menuitem:hover {
    border-radius: 1px 1px 0 0;
    background-image: -gtk-gradient(linear, left top, left bottom, 
                                    from (@selected_color_s),
                                    to (@selected_color_e));
}

menu,
.menu {
    background-color: @bg_color;
    border: 1px solid @border_menu_color;
    padding: 2px;
}

menu menuitem,
.menu menuitem {
    padding: 2px 2px 2px 2px;
    border: 1px solid transparent;
    background-color: transparent;
}

menuitem:hover,
menu .menuitem:hover {
    background-image: -gtk-gradient(linear, left top, left bottom, 
                                    from (@selected_color_s),
                                    to (@selected_color_e));
    border-radius: 1px;
}

menu menuitem:disabled *,
menu .menuitem:disabled * {
    color: darker(@fg_color);
    text-shadow: 1px 1px shade(@bg_color, 1.3);
}

menu menuitem arrow,
.menu menuitem arrow {
    min-height: 10px;
    min-width: 10px;
}

menu menuitem arrow:dir(ltr),
.menu menuitem arrow:dir(ltr) {
    -gtk-icon-source: -gtk-icontheme("pan-end-symbolic");
    margin-left: 10px;
}

menu menuitem arrow:dir(rtl),
.menu menuitem arrow:dir(rtl) {
    -gtk-icon-source: -gtk-icontheme("pan-end-symbolic-rtl");
    margin-right: 10px;
}

menuitem accelerator {
    color: alpha(currentColor, 0.50);
}

menuitem check,
menuitem radio {
    min-height: 11px;
    min-width: 11px;
}

menuitem check:dir(ltr),
menuitem radio:dir(ltr) {
    margin-right: 7px;
}

menuitem check:dir(rtl),
menuitem radio:dir(rtl) {
    margin-left: 7px;
}

/************
 * Popovers *
 ************/
popover {
    padding: 2px;
    border-color: @borders;
    border-width: 1px;
    border-style: solid;
    border-radius: 1px;
    background-color: @bg_color;
    box-shadow: 0 2px 3px rgba(0, 0, 0, 0.5);
}

popover > .list,
.popover > .view,
.popover > .toolbar {
    background-color: transparent;
}

popover separator {
    font-size: 80%;
    color: #cccccc;
    text-shadow: none;
    background-color: transparent;
    -gtk-icon-shadow: none;
    border: 0;
}

popover button.flat,
popover button.flat:hover {
    color: @selected_fg_color;
    text-shadow: none;
    transition: none;
}

popover.osd {
    background-image: none;
    background-color: rgba(0, 0, 0, 0.8);
    border: 1px solid #7f7f7f;
    color:  @fg_color;
}

popover.osd button {
    color:  @fg_color;
    text-shadow: none;
    border-width: 1px;
    border-style: solid;
    background-image: none;
    background-color: rgba(0, 0, 0, 0.8);
    border-color: rgba(255, 255, 255, 0.2);
    box-shadow: none;
}

popover.osd button:hover {
    border-width: 1px;
    border-style: solid;
    background-color: rgba(255, 255, 255, 0.01);
    border-color: rgba(255, 255, 255, 0.2);
    box-shadow: none;
}

popover.osd button:active {
    border-width: 1px;
    border-style: solid;
    background-color: rgba(255, 255, 255, 0.03);
    border-color: rgba(255, 255, 255, 0.2);
    box-shadow: none;
}

popover.osd button:disabled {
    border-width: 1px;
    border-style: solid;
    border-color: rgba(255, 255, 255, 0.2);
    color: #7f7f7f; }

.cursor-handle {
    background-color: transparent;
    background-image: none;
}

.cursor-handle.top {
    -gtk-icon-source: -gtk-icontheme("selection-start");
}

.cursor-handle.bottom {
    -gtk-icon-source: -gtk-icontheme("selection-end");
}

/**********************
 * Notebooks and Tabs *
 **********************/
notebook {
    background: @bg_color;
}

notebook header {
    min-height: 14px;
    background: @bg_color;
}

notebook header tab {
    border: 1px solid @borders;
}

notebook header tab > label,
notebook label {
    padding: 2px 8px;
}

notebook header.top tab:not(:checked) {
    margin: 2px -1px -1px 0;
    border-radius: 3px 3px 0 0;
    background: shade(@bg_color, 0.86);
}

notebook header.top tab:checked {
    margin: 0 -1px -1px 0;
    background-image: -gtk-gradient(linear, left top, left bottom,
                                    from (shade(@bg_color,1.09)),
                                    to (shade(@bg_color, 0.98)) );
    border-radius: 3px 3px 0 0;
    border-top: 1px solid @borders;
    border-bottom: 1px solid @bg_color
}

notebook header.right tab:not(:checked) {
    margin: 0 2px -1px -1px;
    border-radius: 0 3px 3px 0;
    background: shade(@bg_color, 0.86);
}

notebook header.right tab:checked {
    margin: 0 0 -1px -1px;
    border-radius: 0 3px 3px 0;
    border-right: 1px solid @borders;
    border-left: 1px solid @bg_color
}

notebook header.bottom tab:not(:checked) {
    margin: -1px 0 2px -1px;
    border-radius: 0 0 4px 4px;
    background: shade(@bg_color, 0.86);
}

notebook header.bottom tab:checked {
    margin: -1px 0 0 0;
    border-radius: 0 0 3px 3px;
    border-bottom: 1px solid @borders;
    border-top: 1px solid @bg_color
}

notebook header.left tab:not(:checked) {
    margin: 0 -1px 0 2px;
    border-radius: 3px 0 0 3px;
    background: shade(@bg_color, 0.86);
}

notebook header.left tab:checked {
    margin: 0 -1px 0 0;
    border-radius: 3px 0 0 3px;
    border-left: 1px solid @borders;
    border-right: 1px solid @bg_color
}

notebook > stack:not(:only-child) {
    border: 1px solid shade(@bg_color, 0.72);
    background-color: @bg_color;
}


/**************
 * Scrollbars *
 **************/
* {
    -GtkScrollbar-has-backward-stepper: false;
    -GtkScrollbar-has-forward-stepper: false;
}

scrollbar,
.scrollbar {
    background-color: @bg_color;
    border-width: 1px;
}

scrollbar.top,
.scrollbar.top {
    border-bottom: 0px solid @borders;
}

scrollbar.bottom,
.scrollbar.bottom {
    border-top: 0px solid @borders;
}

scrollbar.left,
.scrollbar.left {
    border-right: 0px solid @borders;
}

scrollbar.right,
.scrollbar.right {
    border-left: 0px solid @borders;
}

scrollbar.vertical slider,
scrollbar.vertical .slider {
    min-width: 8px;
    min-height: 30px;
    margin: 0px 0px 0px 0px;
    background-image: linear-gradient(to right, shade(@scrollbar_slider, 0.95), shade(@scrollbar_slider, 0.8));
    border-radius: 4px;
    border-style: solid;
    border-image: none;
    border-color: shade(@scrollbar_slider, 0.65);
    border-width: 1px;
}

scrollbar.vertical slider:hover,
scrollbar.vertical slider:hover:active,
scrollbar.vertical .slider:hover,
scrollbar.vertical .slider:hover:active {
    background-image: linear-gradient(to right, shade(@scrollbar_slider, 0.85), shade(@scrollbar_slider, 0.7));
    border-style: solid;
    border-image: none;
    border-color: shade(@scrollbar_slider, 0.65);
    border-width: 1px;
}

scrollbar.horizontal slider,
scrollbar.horizontal .slider {
    min-width: 30px;
    min-height: 8px;
    margin: 0px 0px 0px 0px;
    background-image: linear-gradient(to bottom, shade(@scrollbar_slider, 0.95), shade(@scrollbar_slider, 0.8));
    border-radius: 4px;
    border-style: solid;
    border-image: none;
    border-color: shade(@scrollbar_slider, 0.65);
    border-width: 1px;
}

scrollbar.horizontal slider:hover,
scrollbar.horizontal slider:hover:active,
scrollbar.horizontal .slider:hover,
scrollbar.horizontal .slider:hover:active {
    background-image: linear-gradient(to bottom, shade(@scrollbar_slider, 0.85), shade(@scrollbar_slider, 0.7));
    border-style: solid;
    border-image: none;
    border-color: shade(@scrollbar_slider, 0.65);
    border-width: 1px;
}

scrollbar slider:disabled,
scrollbar .slider:disabled {
    background-color: shade(@scrollbar_slider, 0.85);
    border-style: solid;
    border-image: none;
    border-color: shade(@scrollbar_slider, 0.75);
    border-width: 1px;
}

treeview ~ scrollbar.vertical {
    border-top: 0px solid transparent;
    margin-top: -1px;
}

/**********
 * Switch *
 **********/
switch {
    font-size: 80%;
    padding: 0;
    border-radius: 3px;
    background-image: none;
    background-color: shade(@bg_color, 0.85);
    color: @text_color;
    border: 1px solid @borders;
}

switch:checked {
    background-image: -gtk-gradient(linear, left top, left bottom, 
                                    from (@selected_bg_color),
                                    to (shade(@selected_bg_color, 0.92)));
    color: @selected_fg_color;
    text-shadow: 0 1px alpha(@text_color, 0.5), 0 0 2px alpha(@selected_fg_color, 0.6);
}

switch:disabled {
    background-image: none;
    background-color: shade(@bg_color, 0.9);
    color: shade(@bg_color, 0.7);
    border-color: shade(@bg_color, 0.8);
}

switch slider {
    padding: 2px 8px;
    min-width: 8px;
    min-height: 8px;
}

switch:disabled slider {
    background-image: none;
    background-color: @bg_color;
    color: darker (@bg_color);
    text-shadow: 1px 1px shade(@shadow_color, 0.91);
    border-color: darker (@bg_color);
    box-shadow: inset 1px 0 shade(@shadow_color, 0.91),
    inset 0 1px shade(@shadow_color, 0.91);
}

/*************************
 * Check and Radio items *
 *************************/
checkbutton > label,
radiobutton > label {
    padding-left: 6px;
}

check {
    min-height: 14px;
    min-width: 14px;
    color: @fg_color;
    background-image: none;
    -gtk-icon-source: -gtk-icontheme("checkbox-symbolic");
}

check:hover {
    color: shade (@fg_color, 0.7);
}

check:checked,
check:active {
    -gtk-icon-source: -gtk-icontheme("checkbox-checked-symbolic");
}

check:checked:hover,
check:active:hover {
    color: shade (@fg_color, 0.7);
}

check:checked:disabled,
check:active:disabled {
    color: shade (@fg_color, 0.67);
}

check:disabled {
    color: shade (@fg_color, 0.8);
}

check:indeterminate {
    -gtk-icon-source: -gtk-icontheme("checkbox-mixed-symbolic");
}

radio {
    min-height: 14px;
    min-width: 14px;
    color: @fg_color;
    background-image: none;
    -gtk-icon-source: -gtk-icontheme("radio-symbolic");
}

radio:hover {
    color: shade (@fg_color, 0.6);
}

radio:checked,
radio:active {
    -gtk-icon-source: -gtk-icontheme("radio-checked-symbolic");
}

radio:checked:hover,
radio:active:hover {
    color: shade (@fg_color, 0.6);
}

radio:checked:disabled,
radio:active:disabled {
    color: shade (@fg_color, 0.8);
}

radio:disabled {
    color: shade (@fg_color, 0.8);
}

radio:indeterminate {
    -gtk-icon-source: -gtk-icontheme("radio-mixed-symbolic");
}

/************
 * GtkScale *
 ************/
scale trough,
scale fill {
    border: 1px solid @borders;
    background-color: @bg_color;
    box-shadow: none;
}

scale trough:disabled,
scale fill:disabled {
    border-color: @insensitive_borders;
    background-color: @insensitive_bg_color;
}

row:selected scale trough,
scale row:selected trough,
row:selected scale fill,
scale row:selected fill,
row:selected scale trough:disabled,
scale row:selected trough:disabled,
row:selected scale fill:disabled,
scale row:selected fill:disabled {
    border-color: @insensitive_borders;
}

.osd scale trough,
scale .osd trough,
.osd scale fill,
scale .osd fill {
    border-color: rgba(255, 255, 255, 0.2);
    background-color: rgba(255, 255, 255, 0);
    box-shadow: none;
    outline-color: rgba(255, 255, 255, 0.2);
}

.osd scale trough:disabled,
scale .osd trough:disabled,
.osd scale fill:disabled,
scale .osd fill:disabled {
    background-color: @insensitive_borders;
}

scale highlight {
    border: 1px solid @borders;
    background-color: shade(@selected_bg_color, 1.17);
}

scale highlight:disabled {
    background-color: transparent;
    border-color: transparent;
}

row:selected scale highlight,
scale row:selected highlight,
row:selected scale highlight:disabled,
scale row:selected highlight:disabled {
    border-color: #000;
}

.osd scale highlight,
scale .osd highlight {
    border-color: rgba(255, 255, 255, 0.2);
}

.osd scale highlight:disabled,
scale .osd highlight:disabled {
    border-color: transparent;
}

scale {
    min-height: 14px;
    min-width: 14px;
    padding: 7px;
    outline-offset: 2px;
}

scale fill,
scale highlight {
    border-color: shade(@selected_bg_color, 0.8);
    margin: -1px;
}

scale slider {
    margin: -7px;
}

scale slider:hover {
}

scale.fine-tune.horizontal {
    padding-top: 9px;
    padding-bottom: 9px;
    min-height: 16px;
}

scale.fine-tune.vertical {
    padding-left: 9px;
    padding-right: 9px;
    min-width: 16px;
}

scale.fine-tune slider {
    margin: -6px;
}

scale.fine-tune fill,
scale.fine-tune highlight,
scale.fine-tune trough {
    background-color: shade (@bg_color, 0.96);
}

scale trough {
    min-width: 4px;
    min-height: 4px;
    outline-offset: 2px;
    -gtk-outline-radius: 0px;
    background-color: shade (@bg_color, 0.96);
}

scale.horizontal slider {
    min-width: 25px;
    min-height: 14px;
    background-image: linear-gradient(to bottom, shade(@bg_color, 1.02), shade(@bg_color, 1.2));
    border-radius: 4px;
    box-shadow: inset 0 -1px @borders, inset 0 1px @borders, inset -1px 0 @borders, inset 1px 0 @borders;
}

scale.horizontal slider:hover {
    background-image: linear-gradient(to bottom, shade(@bg_color, 1.1), shade(@bg_color, 1.3));
}

scale.horizontal slider:disabled {
    background-image: linear-gradient(to bottom, shade(@bg_color, 0.9), shade(@bg_color, 0.95));
}

scale.vertical slider {
    min-width: 14px;
    min-height: 25px;
    background-image: linear-gradient(to right, shade(@bg_color, 1.02), shade(@bg_color, 1.2));
    border-radius: 4px;
    box-shadow: inset 0 -1px @borders, inset 0 1px @borders, inset -1px 0 @borders, inset 1px 0 @borders;
}

scale.vertical slider:hover {
    background-image: linear-gradient(to right, shade(@bg_color, 1.1), shade(@bg_color, 1.3));
}

scale.vertical slider:disabled {
    background-image: linear-gradient(to right, shade(@bg_color, 0.9), shade(@bg_color, 0.95));
}

row:selected scale slider,
row:selected scale slider:disabled {
    border-color: @insensitive_borders;
}

scale value {
    color: alpha(currentColor,0.4);
}

scale marks {
    color: alpha(currentColor,0.4);
}

scale marks.top {
    margin-bottom: 6px;
    margin-top: -12px;
}

scale marks.bottom {
    margin-top: 6px;
    margin-bottom: -12px;
}

scale marks.top {
    margin-right: 6px;
    margin-left: -12px;
}

scale marks.bottom {
    margin-left: 6px;
    margin-right: -12px;
}

scale.fine-tune marks.top {
    margin-bottom: 6px;
    margin-top: -9px;
}

scale.fine-tune marks.bottom {
    margin-top: 6px;
    margin-bottom: -9px;
}

scale.fine-tune marks.top {
    margin-right: 6px;
    margin-left: -9px;
}

scale.fine-tune marks.bottom {
    margin-left: 6px;
    margin-right: -9px;
}

scale.horizontal indicator {
    min-height: 6px;
    min-width: 1px;
}

scale.horizontal.fine-tune indicator {
    min-height: 3px;
}

scale.vertical indicator {
    min-height: 1px;
    min-width: 6px;
}

scale.vertical.fine-tune indicator {
    min-width: 3px;
}

/*****************
 * Progress bars *
 *****************/
progressbar {
    padding: 0;
    font-size: 83%;
    color: @fg_color;
}
progressbar trough {
    border-width: 1px;
    border-style: solid;
    border-color: @borders;
    background-color: shade (@bg_color, 0.96);
}
progressbar.osd trough {
    background-color: transparent;
    box-shadow: none;
    border-width: 0;
}

progressbar.horizontal trough,
progressbar.horizontal progress {
    min-height: 8px;
}

progressbar.vertical trough,
progressbar.vertical progress {
    min-width: 8px;
}

progressbar progress {
    border: 1px solid shade(@bg_color, 0.8);
    box-shadow: inset 1px 0 shade(@selected_bg_color,1.29),
                inset 0 1px shade(@selected_bg_color,1.29);
    background-color: shade(@selected_bg_color, 1.17);
}

treeview.view.progressbar,
treeview.view.progressbar:hover,
row progressbar progress,
row:hover progressbar progress,
row:selected progressbar progress,
row:selected:focus progressbar progress {
    border: 1px solid shade(@bg_color, 0.8);
    box-shadow: inset 1px 0 shade(@selected_bg_color,1.29),
                inset 0 1px shade(@selected_bg_color,1.29);
    background-color: shade(@selected_bg_color, 1.17);
    border-radius: 3px;
    border-width: 1px;
}

progressbar.horizontal trough {
    padding: 1px 0;
}

progressbar.vertical trough {
    padding: 0 1px;
}

progressbar progress.vertical {
}

progressbar progress.osd {
    border-width: 0;
    border-radius: 1px;
}

/*************
 * Level Bar *
 *************/
levelbar trough {
    padding: 2px;
    background-color: transparent;
    border-style: solid;
    border-color: @borders;
}

levelbar block {
    min-width: 34px;
    min-height: 3px;
}

levelbar.vertical block {
    min-width: 3px;
    min-height: 34px;
}

levelbar.horizontal.discrete block {
    margin: 0 1px;
}

levelbar.vertical.discrete block {
    margin: 1px 0;
}

levelbar block.filled.low {
    border-color: #c26000;
    background-color: #f57900;
}

levelbar block.filled.high {
    border-width: 1px;
    border-style: solid;
    border-color: @borders;
    background-color: shade(@selected_bg_color, 1.17);
}

levelbar block.filled.full {
    border-color: #5aa411;
    background-color: #73d216;
}

levelbar block.empty {
    border-width: 1px;
    border-style: solid;
    background-color: transparent;
    border-color: rgba(0, 0, 0, 0.2);
    border-radius: 1px;
    box-shadow: none;
}

.view:selected, 
textview text:selected, 
iconview:selected, 
calendar:selected,
.view:selected:focus, 
textview text:selected:focus, 
iconview:selected:focus,
calendar:focus:selected, 
textview text:selected:hover, 
calendar:hover:selected,
textview text selection, 
textview text selection:focus, 
textview text selection:hover,
flowbox flowboxchild:selected, 
label selection, 
label selection:focus, 
label selection:hover,
label selection:backdrop, 
spinbutton:not(.vertical) selection:focus, 
spinbutton:not(.vertical) selection,
entry selection:focus, 
entry selection, 
modelbutton.flat:selected,
popover.background checkbutton:selected, 
popover.background radiobutton:selected,
.menuitem.button.flat:selected, 
treeview.view:selected, 
row.activatable:selected,
.sidebar:selected {
    color: @selected_fg_color;
    background-color: @selected_bg_color;
    background-image: -gtk-gradient(linear, left top, left bottom, from (@selected_color_s), to (@selected_color_e) );
}

/**********
 * Frames *
 **********/
frame border {
    border: 1px solid @borders;
    border-radius: 3px;
    padding: 0;
}

frame border.flat,
.frame.flat {
    border-style: none;
}

.frame {
    border: 0;
}

.frame:not(notebook)  {
    border: 1px solid @borders;
}

scrolledwindow viewport.frame {
    border-style: none;
}

actionbar > revealer > box {
    padding: 6px;
    border-width: 1px 0 0;
    border-color: @borders;
    border-style: solid none none;
}

separator,
.sidebar separator {
    background: @text_color;
    min-width: 1px;
    min-height: 1px;
    padding: 0px;
    margin: 2px;
}

/*********
 * Lists *
 *********/
list {
    color: @text_color;
    background-color: @base_color;
}

list label,
list image {
    color: @text_color;
    padding: 2px;
}

list row:selected label {
    color: @selected_fg_color;
}

row.activatable,
row.activatable:disabled:active,
row.activatable:disabled:checked {
    background-color: @base_color;
    border-style: none;
    border-radius: 0;
    box-shadow: none;
}

row.activatable:hover {
    color: @fg_color;
    background-color: shade(@base_color, 0.96);
}

row.activatable:selected {
    background-color: @selected_bg_color;
    color: @selected_fg_color;
}

row.activatable:selected:active {
    background-color: alpha(@selected_bg_color, 0.15);
}

row.activatable:selected:hover {
    background-color: alpha(@selected_bg_color, 0.33);
}

row,
row.activatable {
    background-color: @base_color;
    transition: all 300ms cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

row:hover,
row.activatable:hover {
    transition: none;
}

/*********************
 * App Notifications *
 *********************/
.app-notification,
.app-notification.frame {
    border-width: 0 1px 1px;
    border-style: solid;
    border-color: @borders;
    border-radius: 0 0 6px 6px;
    background-color: alpha(@fg_color, 0.2);
    /*padding: 0 4px;*/
}

app-notification button {
    padding: 6px;
}

/*************
 * Expanders *
 *************/
expander arrow {
    min-width: 16px;
    min-height: 16px;
    -gtk-icon-source: -gtk-icontheme("pan-end-symbolic");
}

expander arrow:dir(rtl) {
    -gtk-icon-source: -gtk-icontheme("pan-end-symbolic-rtl");
}
expander arrow:hover {
    color: #4d4d4d;
}
expander arrow:checked {
    -gtk-icon-source: -gtk-icontheme("pan-down-symbolic");
}

/************
 * Calendar *
 ***********/
calendar {
    color: @text_color;
    border: 1px solid @borders;
}

calendar.button {
    padding: 0 4px;
    color: shade(@bg_color, 0.85);
}

calendar.button:hover {
    color: @fg_color;
}

calendar.header {
	border-radius: 2px;
	border-width: 1px;
	background-image: -gtk-gradient (linear,
		left top,
		left bottom,
		from (shade (@bg_color, 1.04)),
		to (shade (@bg_color, 0.8)));
}

calendar.highlight {
    color: @selected_fg_color; 
    background-color: @selected_bg_color;
}

calendar.disabled {
    color: shade(@fg_color, 0.8);
    border-color: @insensitive_borders;
}

calendar:selected,
calendar:selected:focus {
    background-color: @selected_bg_color;
    color: @selected_fg_color;
}

/***********
 * Dialogs *
 ***********/
/* -- todo -- */

messagedialog .dialog-action-area button {
    padding: 2px;
    margin: 4px;
    border: 1px solid shade(@bg_color, 0.59);
    background-image: -gtk-gradient(linear, left top, left bottom,
                                    from (shade(@bg_color,1.04)),
                                    to (shade(@bg_color, 0.99)));
    box-shadow: inset 1px 0 shade(@bg_color, 1.25),
    inset 0 1px shade(@bg_color, 1.25),
    inset -1px 0 shade(@bg_color, 1.25),
    inset 0 -1px shade(@bg_color, 1.25);
}

messagedialog .dialog-action-area button:hover {
    border: 1px solid shade(@selected_bg_color, 0.72);
    background-image: -gtk-gradient(linear, left top, left bottom,
                                    from (shade(@bg_color,1.24)),
                                    to (shade(@bg_color, 1.16)));
    box-shadow: none;
}

messagedialog .titlebar {
    border-style: none;
    box-shadow: inset 0 1px #fff;
}

filechooser #pathbarbox {
    background-color: @bg_color;
}

filechooserbutton:drop(active) {
    box-shadow: none;
    border-color: transparent;
}

/***********
 * Sidebar *
 ***********/
.sidebar {
    border: none;
    background-color: @base_color;
    color: @text_color;
}

.sidebar:hover {
    color: @text_color;
}

.sidebar .frame {
    padding: 2px;
    border-style: none;
}

.sidebar > scrolledwindow > .frame {
    border-right: 1px solid shade (@bg_color, 0.87);
}

.sidebar > scrolledwindow > .frame:dir(rtl) {
    border-right: none;
    border-left: 1px solid shade (@bg_color, 0.87);
}

stacksidebar row {
    padding: 5px 2px;
}

stacksidebar row > label {
    padding-left: 6px;
    padding-right: 6px;
}

stacksidebar row.needs-attention > label {
    background-size: 6px 6px, 0 0;
}

/*********
 * Paned *
 *********/
paned > separator {
    -gtk-icon-source: none;
    background-color: @bg_color;
    min-width: 5px;
    min-height: 5px;
}

paned > separator:hover {
    background-color: shade(@bg_color, 1.3);
}

/**************
 * GtkInfoBar *
 **************/
infobar {
    border-style: none;
}

.info,
.question,
.warning,
.error {
    color:  @fg_color;
    text-shadow: 0 1px @fg_color;
    border-color: @fg_color;
}
.info {
    background-color: @selected_bg_color;
}
.question {
    background-color: @question_color;
}
.warning {
    background-color: @warning_color;
}
.error {
    background-color: @error_color;
}


/***********
 * tooltip *
 ***********/
tooltip {
    padding: 0px;
    box-shadow: none;
}
tooltip.background {
    background-color: @tooltip_bg_color;
    background-clip: padding-box;
    border: 1px solid alpha(darker(@borders), 0.7);
}
tooltip decoration {
    box-shadow: none;
    background-color: transparent;
}
tooltip * {
    padding: 0px;
    background-color: transparent;
    color: @tooltip_fg_color;
}

/*****************
 * Color Chooser *
 *****************/
colorswatch {
    border: 1px solid @borders;
    border-radius: 3px;
    box-shadow: inset 1px 0 shade(@bg_color,0.92),
    inset 0 1px shade(@bg_color,0.92),
    inset -1px 0 shade(@bg_color,0.70),
    inset 0 -1px shade(@bg_color,0.70);
}
colorswatch.color-light:hover {
    background-image: linear-gradient(to bottom, rgba(255, 255, 255, 0) 40%, rgba(255, 255, 255, 0.4));
}
colorswatch.color-dark:hover {
    background-image: linear-gradient(to bottom, rgba(255, 255, 255, 0) 40%, rgba(255, 255, 255, 0.2));
}
colorswatch:hover {
    border-color: @selected_bg_color;
}
colorswatch.color-active-badge {
    border-width: 1px;
}
colorswatch.color-active-badge:hover {
    background-image: none;
}
colorswatch.color-active-badge.color-light,
colorswatch.color-active-badge.color-light:hover {
    color: rgba(0, 0, 0, 0.3);
    border-color: rgba(0, 0, 0, 0.3);
}
colorswatch.color-active-badge.color-dark,
colorswatch.color-active-badge.color-dark:hover {
    color: rgba(255, 255, 255, 0.5);
    border-color: rgba(255, 255, 255, 0.5);
}

GtkColorChooserWidget #add-color-button {
    border-color: #bfbfbf;
    background-color: #bfbfbf;
    color:  @fg_color;
    box-shadow: none;
}
GtkColorChooserWidget #add-color-button:hover {
    border-color: @borders;
    background-color: #7f7f7f;
}

/**********************
 * Window Decorations *
 *********************/
decoration {
    box-shadow: 0 3px 9px 1px rgba(0, 0, 0, 0.5), 0 0 0 1px shade(@shadow_color, 0.86);
    /* this is used for the resize cursor area */
    margin: 8px;
}

.popup decoration {
    border: none;
    box-shadow: none;
}

decoration.tiled {
    border-radius: 0;
}

button.titlebutton {
    padding: 4px;
    border-color: transparent;
    background-image: none;
    transition-property: border, box-shadow, color;
    box-shadow: inset 0 1px rgba(255, 255, 255, 0), 0 1px rgba(255, 255, 255, 0);
}

button.titlebutton:hover {
    border-width: 1px;
    border-style: solid;
    color: @fg_color;
    background-image: linear-gradient(to bottom, @bg_color, shade(@bg_color,0.8));
    border-color: @borders;
}

button.titlebutton:active {
    border-width: 1px;
    border-style: solid;
    border-color: @borders;
    background-image: linear-gradient(to bottom, @bg_color, shade(@bg_color,0.8));
    color:  @fg_color;
}

wnck-pager { 
    background: shade(@bg_color, 0.7); 
}

wnck-pager:selected { 
    background: shade(@selected_bg_color, 0.7);
}

wnck-pager:hover { 
    background: shade(@bg_color, 1.3); 
}
